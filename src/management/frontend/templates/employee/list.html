{% extends 'layout.html' %}

{% block title %}Employee{% endblock %}

{% block with_partition_name %}
<span style="font-family: Arial Black;"><h4>Employee list</h4></span>
{% endblock %}

{% block with_button_add %}
{% if "backend.add_employee" in permissions %}

    <a href="" role="button" class="btn btn-success">
        Add
    </a>

{% endif %}
{% endblock %}

{% block with_description %}
<th align="left">First name</th>
<th align="left">Second name</th>
<th align="left">Department</th>
<th align="left">Position</th>
<th></th>
{% endblock %}

{% block content %}
{% if content %}
{% for i in content %}
<tr>
    <td>{{ i.first_name }}</td>
    <td>{{ i.second_name }}</td>
    <td>{{ i.department }}</td>
    <td>{{ i.position }}</td>

    <td align="center">
        <form id='detail'>
            <button type="button" form="detail" class="btn btn-outline-primary btn-sm mb-2"> detail</button>
        </form>

    {% if "backend.change_department" in permissions %}

       <form method="get" action="{% url 'department-update' %}">
        {% csrf_token %}
        <input type="hidden" name="url" value="{{ i.url }}">
        <input type="hidden" name="title" value="{{ i.title }}">
        <input type="hidden" name="description" value="{{ i.description }}">
        <button class="btn btn-info btn-sm mb-2">Update</button>
       </form>

    {% endif %}

    {% if "backend.delete_department" in permissions %}

        <form method="post" action="{% url 'department-delete' %}">
            {% csrf_token %}
            <input type="hidden" name="url" value="{{ i.url }}">
            <button type="submit" class="btn btn-danger btn-sm mb-2">Delete</button>
        </form>
    </td>
    {% endif %}

    </tr>

{% endfor %}
{% else %}
<br>
<p align="center" style="font-size: 30px">
    No information available.
</p>
{% endif %}
{% endblock %}